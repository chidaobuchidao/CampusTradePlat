{"remainingRequest":"E:\\My_Projects\\Trade_system\\campus-product-view\\node_modules\\babel-loader\\lib\\index.js!E:\\My_Projects\\Trade_system\\campus-product-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\My_Projects\\Trade_system\\campus-product-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\My_Projects\\Trade_system\\campus-product-view\\src\\views\\user\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\My_Projects\\Trade_system\\campus-product-view\\src\\views\\user\\Home.vue","mtime":1734007144000},{"path":"E:\\My_Projects\\Trade_system\\campus-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762140152345},{"path":"E:\\My_Projects\\Trade_system\\campus-product-view\\node_modules\\babel-loader\\lib\\index.js","mtime":1762140152960},{"path":"E:\\My_Projects\\Trade_system\\campus-product-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1762140152345},{"path":"E:\\My_Projects\\Trade_system\\campus-product-view\\node_modules\\vue-loader\\lib\\index.js","mtime":1762140147439}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IExvZ28gZnJvbSAiQC9jb21wb25lbnRzL0xvZ28iOwppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VXNlckluZm8sIHNldFNlYXJjaEtleSB9IGZyb20gIkAvdXRpbHMvc3RvcmFnZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSG9tZSIsCiAgY29tcG9uZW50czogewogICAgTG9nbwogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzZWxmUGF0aDogewogICAgICAgIG5hbWU6ICfkuKrkurrkuK3lv4MnLAogICAgICAgIHBhdGg6ICcvbXlTZWxmJwogICAgICB9LAogICAgICB1c2VyUm91dGVzOiBbXSwKICAgICAga2V5OiBudWxsLAogICAgICBkaWFsb2dPcGVyYWlvbjogZmFsc2UsCiAgICAgIGxvZ2luU3RhdHVzOiBmYWxzZSwKICAgICAgLy8g6buY6K6k5pyq55m75b2VCiAgICAgIHVzZXJJbmZvOiB7fSwKICAgICAgc2VhcmNoUGF0aDogJy9zZWFyY2gnCiAgICB9OwogIH0sCgogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRMb2dpblN0YXR1cygpOwogICAgdGhpcy5oYW5kbGVSb3V0ZVNlbGVjdCgnL3Byb2R1Y3QnKTsKICB9LAoKICBtZXRob2RzOiB7CiAgICAvLyDot7PovaznmbvlvZXpobUKICAgIGxvZ2luT3BlcmF0aW9uKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL2xvZ2luJyk7CiAgICB9LAoKICAgIC8vIOaQnOe0ogogICAgZmV0Y2goKSB7CiAgICAgIHNldFNlYXJjaEtleSh0aGlzLmtleSk7CiAgICAgIHRoaXMuaGFuZGxlUm91dGVTZWxlY3QodGhpcy5zZWFyY2hQYXRoKTsKICAgIH0sCgogICAgLy8g6Lev55Sx5YiH5o2iCiAgICBoYW5kbGVSb3V0ZVNlbGVjdChwYXRoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZXIuY3VycmVudFJvdXRlLmZ1bGxQYXRoICE9PSBwYXRoKSB7CiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2gocGF0aCk7CiAgICAgIH0KICAgIH0sCgogICAgLy/liKTmlq3nlKjmiLfmmK/lkKblt7Lnu4/nmbvlvZUKICAgIGxvYWRMb2dpblN0YXR1cygpIHsKICAgICAgY29uc3QgdG9rZW4gPSBnZXRUb2tlbigpOyAvLyDmsqHnmbvlvZUKCiAgICAgIGlmICh0b2tlbiA9PT0gbnVsbCkgewogICAgICAgIHRoaXMubG9naW5TdGF0dXMgPSBmYWxzZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHRoaXMuYXV0aCgpOwogICAgfSwKCiAgICAvLyB0b2tlbuajgOmqjAogICAgYXV0aCgpIHsKICAgICAgdGhpcy4kYXhpb3MuZ2V0KGAvdXNlci9hdXRoYCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IHsKICAgICAgICAgIGRhdGEKICAgICAgICB9ID0gcmVzOwoKICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIC8vIOWtmOWCqOeUqOaIt+S/oeaBrwogICAgICAgICAgc2V0VXNlckluZm8oZGF0YS5kYXRhKTsKICAgICAgICAgIHRoaXMudXNlckluZm8gPSBkYXRhLmRhdGE7CiAgICAgICAgfQoKICAgICAgICB0aGlzLmxvZ2luU3RhdHVzID0gZGF0YS5jb2RlID09PSAyMDA7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZygidG9rZW7mo4DpqozlvILluLjvvJoiLCBlcnJvcik7CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA,OAAA,IAAA,MAAA,mBAAA;AACA,SAAA,QAAA,EAAA,WAAA,EAAA,YAAA,QAAA,iBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA;AADA,GAFA;;AAKA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA;AAAA,QAAA,IAAA,EAAA,MAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,GAAA,EAAA,IAHA;AAIA,MAAA,cAAA,EAAA,KAJA;AAKA,MAAA,WAAA,EAAA,KALA;AAKA;AACA,MAAA,QAAA,EAAA,EANA;AAOA,MAAA,UAAA,EAAA;AAPA,KAAA;AASA,GAfA;;AAgBA,EAAA,OAAA,GAAA;AACA,SAAA,eAAA;AACA,SAAA,iBAAA,CAAA,UAAA;AACA,GAnBA;;AAoBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,cAAA,GAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,KAJA;;AAKA;AACA,IAAA,KAAA,GAAA;AACA,MAAA,YAAA,CAAA,KAAA,GAAA,CAAA;AACA,WAAA,iBAAA,CAAA,KAAA,UAAA;AACA,KATA;;AAUA;AACA,IAAA,iBAAA,CAAA,IAAA,EAAA;AACA,UAAA,KAAA,OAAA,CAAA,YAAA,CAAA,QAAA,KAAA,IAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA;AACA,KAfA;;AAgBA;AACA,IAAA,eAAA,GAAA;AACA,YAAA,KAAA,GAAA,QAAA,EAAA,CADA,CAEA;;AACA,UAAA,KAAA,KAAA,IAAA,EAAA;AACA,aAAA,WAAA,GAAA,KAAA;AACA;AACA;;AACA,WAAA,IAAA;AACA,KAzBA;;AA0BA;AACA,IAAA,IAAA,GAAA;AACA,WAAA,MAAA,CAAA,GAAA,CAAA,YAAA,EAAA,IAAA,CAAA,GAAA,IAAA;AACA,cAAA;AAAA,UAAA;AAAA,YAAA,GAAA;;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA;AACA,UAAA,WAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,eAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA;;AACA,aAAA,WAAA,GAAA,IAAA,CAAA,IAAA,KAAA,GAAA;AACA,OARA,EAQA,KARA,CAQA,KAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,YAAA,EAAA,KAAA;AACA,OAVA;AAWA;;AAvCA;AApBA,CAAA","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"container\">\r\n            <div class=\"top\">\r\n                <div class=\"nav\">\r\n                    <div>\r\n                        <Logo name=\"校园交易\" />\r\n                    </div>\r\n                    <div class=\"route\">\r\n                        <span @click=\"handleRouteSelect('/product')\">商品</span>\r\n                        <span v-if=\"loginStatus\" @click=\"handleRouteSelect('/myProduct')\">我的商品</span>\r\n                        <span v-if=\"loginStatus\" @click=\"handleRouteSelect('/mySave')\">我的收藏</span>\r\n                        <span v-if=\"loginStatus\" @click=\"handleRouteSelect('/myView')\">足迹</span>\r\n                    </div>\r\n                </div>\r\n                <div\r\n                    style=\"cursor: pointer;font-size: 14px;display: flex;justify-content: left;align-items: center;gap: 20px;color: rgb(143, 143, 143);\">\r\n                    <div class=\"word-search\">\r\n                        <div class=\"item\">\r\n                            <input type=\"text\" placeholder=\"搜索商品\" v-model=\"key\">\r\n                            <i class=\"el-icon-search\" @click=\"fetch\"></i>\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"text-align: center;\" v-if=\"loginStatus\" @click=\"handleRouteSelect('/orders')\">\r\n                        <div>\r\n                            <i class=\"el-icon-document\"></i>\r\n                        </div>\r\n                        <div>\r\n                            订单\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"text-align: center;\" v-if=\"loginStatus\" @click=\"handleRouteSelect('/message')\">\r\n                        <div>\r\n                            <i class=\"el-icon-bell\"></i>\r\n                        </div>\r\n                        <div>\r\n                            通知\r\n                        </div>\r\n                    </div>\r\n                    <div style=\"text-align: center;\" v-if=\"loginStatus\" @click=\"handleRouteSelect('/post-product')\">\r\n                        <div>\r\n                            <i class=\"el-icon-plus\"></i>\r\n                        </div>\r\n                        <div>\r\n                            发布商品\r\n                        </div>\r\n                    </div>\r\n                    <div v-if=\"!loginStatus\" @click=\"loginOperation\">\r\n                        登录&nbsp;|&nbsp;注册\r\n                    </div>\r\n                    <div v-else>\r\n                        <img @click=\"handleRouteSelect('/myself')\" class=\"avatar\" :src=\"userInfo.userAvatar\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"info\" v-if=\"loginStatus\">\r\n                <div>\r\n                    <img :src=\"userInfo.userAvatar\" style=\"width: 90px;width: 90px;border-radius: 50%;\">\r\n                </div>\r\n                <div style=\"padding: 0 40px;\">\r\n                    <div class=\"title1\">\r\n                        <span class=\"title\">{{ userInfo.userName }}</span>\r\n                        <!-- <span class=\"poin\">商品被浏览138</span>\r\n                        <span class=\"poin\">商品被收藏290</span> -->\r\n                    </div>\r\n                    <!-- <div class=\"save\">\r\n                        收藏商品： 1\r\n                    </div> -->\r\n                    <div class=\"date\">\r\n                        注册于： {{ userInfo.createTime }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div style=\"padding: 10px 300px;\">\r\n            <router-view></router-view>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Logo from \"@/components/Logo\";\r\nimport { getToken, setUserInfo, setSearchKey } from \"@/utils/storage\";\r\nexport default {\r\n    name: \"Home\",\r\n    components: {\r\n        Logo,\r\n    },\r\n    data() {\r\n        return {\r\n            selfPath: { name: '个人中心', path: '/mySelf' },\r\n            userRoutes: [],\r\n            key: null,\r\n            dialogOperaion: false,\r\n            loginStatus: false, // 默认未登录\r\n            userInfo: {},\r\n            searchPath: '/search',\r\n        };\r\n    },\r\n    created() {\r\n        this.loadLoginStatus();\r\n        this.handleRouteSelect('/product')\r\n    },\r\n    methods: {\r\n        // 跳转登录页\r\n        loginOperation() {\r\n            this.$router.push('/login');\r\n        },\r\n        // 搜索\r\n        fetch() {\r\n            setSearchKey(this.key);\r\n            this.handleRouteSelect(this.searchPath);\r\n        },\r\n        // 路由切换\r\n        handleRouteSelect(path) {\r\n            if (this.$router.currentRoute.fullPath !== path) {\r\n                this.$router.push(path);\r\n            }\r\n        },\r\n        //判断用户是否已经登录\r\n        loadLoginStatus() {\r\n            const token = getToken();\r\n            // 没登录\r\n            if (token === null) {\r\n                this.loginStatus = false;\r\n                return;\r\n            }\r\n            this.auth();\r\n        },\r\n        // token检验\r\n        auth() {\r\n            this.$axios.get(`/user/auth`).then(res => {\r\n                const { data } = res;\r\n                if (data.code === 200) {\r\n                    // 存储用户信息\r\n                    setUserInfo(data.data);\r\n                    this.userInfo = data.data;\r\n                }\r\n                this.loginStatus = data.code === 200;\r\n            }).catch(error => {\r\n                console.log(\"token检验异常：\", error);\r\n            });\r\n        },\r\n    }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.avatar {\r\n    border: 3px solid rgb(51, 51, 51);\r\n    width: 30px;\r\n    width: 30px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.avatar:hover {\r\n    border: 3px solid rgb(216, 206, 25);\r\n}\r\n\r\n.word-search {\r\n    display: flex;\r\n    justify-content: center;\r\n\r\n    .item {\r\n        max-width: 210px;\r\n        background-color: rgb(244, 244, 244);\r\n        border-radius: 20px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        box-sizing: border-box;\r\n        border: 1px solid rgb(245, 245, 245);\r\n\r\n        input:focus {\r\n            width: 110px;\r\n        }\r\n\r\n        input {\r\n            border: none;\r\n            transition: all 0.6s;\r\n            width: 80px;\r\n            margin: 0 10px;\r\n            background-color: rgb(244, 244, 244);\r\n            outline: none;\r\n            font-size: 14px;\r\n        }\r\n\r\n        i {\r\n            padding: 6px 12px;\r\n            border-radius: 5px;\r\n            cursor: pointer;\r\n            border-top-right-radius: 20px;\r\n            border-bottom-right-radius: 20px;\r\n            background-color: rgb(244, 244, 244);\r\n        }\r\n\r\n        i:hover {\r\n            background-color: rgb(241, 241, 241);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n.container {\r\n    background-color: rgb(51, 51, 51);\r\n}\r\n\r\n.info {\r\n    padding: 10px 200px;\r\n    display: flex;\r\n\r\n    img {\r\n        padding: 6px;\r\n        box-sizing: border-box;\r\n        border: 3px solid rgb(255, 255, 255);\r\n    }\r\n\r\n    .title1 {\r\n        font-size: 26px;\r\n        color: rgb(255, 255, 255);\r\n        gap: 12px;\r\n\r\n        .poin {\r\n            display: inline-block;\r\n            padding: 2px 6px;\r\n            margin-inline: 4px;\r\n            box-sizing: border-box;\r\n            border-radius: 20px;\r\n            cursor: pointer;\r\n            font-size: 10px;\r\n            color: rgb(255, 255, 255);\r\n            background-color: rgb(197, 153, 57);\r\n        }\r\n    }\r\n\r\n    .save,\r\n    .date {\r\n        margin: 10px 0;\r\n        font-size: 12px;\r\n        color: rgb(153, 150, 141);\r\n    }\r\n\r\n}\r\n\r\n.top {\r\n\r\n    height: 80px;\r\n    padding: 0 200px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    .nav {\r\n        padding: 20px 0;\r\n        display: flex;\r\n        justify-content: left;\r\n        align-items: center;\r\n        gap: 20px;\r\n\r\n        .route {\r\n            display: flex;\r\n            justify-content: left;\r\n            align-items: center;\r\n            gap: 30px;\r\n\r\n\r\n            span {\r\n                font-size: 14px;\r\n                color: rgb(143, 143, 143);\r\n                cursor: pointer;\r\n            }\r\n\r\n            span:hover {\r\n                color: rgb(255, 255, 255);\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n</style>"],"sourceRoot":"src/views/user"}]}